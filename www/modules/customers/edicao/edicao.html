<div class="edicao-container">
    <div class="bar bar-header bar-light">
        <h1 class="title">Editar Cadastro</h1>
    </div>    
    <h2 class="form-group col-xs-12 display-3">Dados Iniciais</h2>                
    <div class="col-xs-12">
        <div class="form-container"> 
            <div class="row">           
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="cpf">CPF:</label>
                    <input id="cpf" class="form-control" ng-model="vm.customer.DocumentNumber" type="text" ng-change="vm.validarCPF()" mask="999.999.999-99" restrict="reject">
                </div>             
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="nome">Nome:</label>
                    <input id="nome" class="form-control" ng-model="vm.customer.Name" type="text">
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="email">Email:</label>
                    <input id="email" class="form-control" ng-model="vm.customer.Email" type="text">
                </div> 
            </div>
            <!-- <div class="form-group col-sm-6 col-xs-12">
                <label for="dataNasc">Data de Nascimento:</label>
                <input id="dataNasc" class="form-control" ng-model="vm.customer.Born" type="text"  name="date" mask="39/19/9999" restrict="reject" placeholder="dd/mm/aaaa">
            </div>                                                                            -->
            <div ng-repeat="phoneNumber in vm.customer.Phones | filter: { IsFoneclube: null }" class="row">
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="dataNasc">Telefone "atual" de contato:</label>
                    <input id="dataNasc" class="form-control" ng-model="phoneNumber.NovoFormatoNumero" type="tel" placeholder="(xx) 99999-9999" mask="(99) 9?9999-9999" restrict="reject">
                </div>
                <div class="form-group col-sm-6 col-xs-12" >
                    <label for="selectOperator">Qual sua operadora atual?:</label>
                    <select class="form-control" ng-options="operator.id as operator.nome for operator in vm.allOperatorOptions" ng-model="phoneNumber.IdOperator">
                        <option value="">Selecione</option>
                    </select>            
                </div>                                
            </div>          
        </div>
    </div> 
    <h2 class="form-group col-xs-12 display-3">Endereço</h2>                
    <div class="col-xs-12">
        <div class="form-container">            
            <div ng-repeat="adress in vm.customer.Adresses track by $index">
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="cep">CEP:</label>
                    <input id="cep" class="form-control" ng-model="adress.Cep" type="text" name="CEP" mask="99999-999" restrict="reject" ng-change="vm.validarCEP($index)">
                </div>
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="rua">Rua:</label>
                    <input id="rua" class="form-control" ng-model="adress.Street" type="text">
                </div>
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="numero">Número:</label>
                    <input id="numero" class="form-control" type="number" ng-model="adress.StreetNumber">
                </div>
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="complemento">Complemento:</label>
                    <input id="complemento" class="form-control" type="text" ng-model="adress.Complement">
                </div>       
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="bairro">Bairro:</label>
                    <input id="bairro" class="form-control" ng-model="adress.Neighborhood" type="text">
                </div>
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="cidade">Cidade:</label>
                    <input id="cidade" class="form-control" ng-model="adress.City" type="text">
                </div>  
                <div class="form-group col-sm-6 col-xs-12">
                    <label for="uf">Estado:</label>
                    <input id="uf" class="form-control" ng-model="adress.State" type="text">
                </div>                                                             
            </div>         
        </div>
    </div>
    <h2 class="form-group col-xs-12 display-3">Imagens</h2>                
    <div class="col-xs-12">
        <!-- <div class="form-container">            
            <div ng-repeat="images in vm.customer.Photos track by $index">
                <div>
                    <img style="height: 400px;" ng-src="https://s3-sa-east-1.amazonaws.com/fone-clube-bucket/{{images.Name}}" alt="">
                </div>
            </div>
        </div> -->
        <div class="col-xs-12">
            <div class="form-container" ng-if="vm.customer.Photos">
                <div class="row" ng-if="vm.customer">
                    <div class="form-group col-sm-4 col-xs-12">
                        <div class="botao-upload-cadastro">
                            <img src="../../content/img/upload.png" alt="">
                            <span>Selfie</span>
                            <input id="input-file" type="file" name="file" fileread="vm.imageSelf" base64="vm.base64Self" accept="image/*"/>
                        </div>
                    </div>
                    <div class="form-group col-sm-8 col-xs-12">
                        <img class="thumb-image" ng-src="{{vm.getImageOftype(1)}}" alt="x">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4 col-xs-12">
                        <div class="botao-upload-cadastro">
                            <img src="../../content/img/upload.png" alt="">
                            <span>Frente</span>
                            <input id="input-file" type="file" name="file" fileread="vm.imageFrente" base64="vm.base64Frente" accept="image/*"/>
                        </div>
                    </div> 
                    <div class="form-group col-sm-8 col-xs-12">
                        <img class="thumb-image" ng-src="{{vm.getImageOftype(2)}}" alt="x">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4 col-xs-12">
                        <div class="botao-upload-cadastro">
                            <img src="../../content/img/upload.png" alt="">
                            <span>Verso</span>
                            <input id="input-file" type="file" name="file" fileread="vm.imageVerso" base64="vm.base64Verso" accept="image/*"/>
                        </div>
                    </div> 
                    <div class="form-group col-sm-8 col-xs-12">
                        <img class="thumb-image" ng-src="{{vm.getImageOftype(3)}}" alt="x">
                    </div>
                </div>
            </div> 
        </div>
    </div>
    <h2 class="form-group col-xs-12 display-3">Dados Pessoais</h2>                
    <div class="col-xs-12">
        <div class="form-container">  
            <div class="form-group col-sm-6 col-xs-12">
                <label for="quemConvidou">Telefone de quem convidou:</label>
                <input id="quemConvidou" class="form-control" ng-model="vm.contactParent" type="tel" placeholder="(21)99999-9999" mask="(99)9?9999-9999" restrict="reject" ng-change="vm.getContactParentName()">
            </div> 
            <div class="form-group col-sm-6 col-xs-12">
                <label for="nomeQuemConvidou">Nome de quem te convidou para o Foneclube:</label>
                <input id="nomeQuemConvidou" class="form-control"ng-model="vm.customer.NameContactParent" type="text">
            </div>

            <div class="form-group col-sm-6 col-xs-12">
                <label for="precoUnico">Preço único:</label>
                <input id="precoUnico" class="form-control" ng-model="vm.singlePriceLocal" money-input type="tel">
            </div> 
            <div class="form-group col-sm-6 col-xs-12">
                <label for="comentarioValor">Comentário valor:</label>
                <input id="comentarioValor" class="form-control" ng-model="vm.customer.DescriptionSinglePrice" type="text"  placeholder="Comentário sobre o Preço único">
            </div>
            <div class="item item-divider item-icon-right">
                Informações linha(s) Foneclube
                <button  on-tap="vm.onTapNewPhoneNumber()" style="background: transparent; border: none; position: absolute; right: 0; padding-right: 16px;"><i class="glyphicon glyphicon-plus"></i></i></button>                
            </div>
            <uib-accordion close-others="oneAtATime">            
                <div uib-accordion-group  class="panel-default" ng-hide="!phoneNumber.IsFoneclube || phoneNumber.Delete" ng-init="status.open = false" is-open="status.open" ng-repeat="phoneNumber in vm.customer.Phones track by $index">                    
                    <uib-accordion-heading>
                        Linha {{$index + 1}} <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>                        
                    </uib-accordion-heading>
                    <div class="form-group col-sm-6 col-xs-12">
                        <label for="comentarioValor">Qual apelido para está linha?:</label>
                        <input id="comentarioValor" class="form-control" ng-model="phoneNumber.NickName" type="text" placeholder="Apelido">
                    </div>
                    <div class="form-group col-sm-6 col-xs-12">
                        <label for="qualOperadoraUsar">Qual operadora quer usar?:</label>
                        <select id="qualOperadoraUsar" class="form-control" ng-model="phoneNumber.operadora" ng-change="phoneNumber.IdPlanOption = ''">
                            <option name="{{'operadora' + phoneNumber.key}}" value="1">Vivo</option>
                            <option name="{{'operadora' + phoneNumber.key}}" value="2">Claro</option>
                        </select> 
                    </div>
                    <div class="form-group col-sm-6 col-xs-12">
                        <label for="qualPlanoContratar">Qual plano que deseja contratar?:</label>
                        <select id="qualPlanoContratar" class="form-control" ng-options="plan.Id as plan.Description for plan in vm.plans | filter: phoneNumber.operadora == 1 ? 'VIVO' : phoneNumber.operadora == 2 ? 'CLARO' : 9" ng-model="phoneNumber.IdPlanOption">
                            <option value="">Selecione</option>
                        </select> 
                    </div>  
                    <div class="form-group col-sm-6 col-xs-12">
                        <label for="usarNumeroAtual">Deseja usar seu número atual com este plano (portabilidade)?:</label>
                        <select class="form-control" ng-model="phoneNumber.Portability">                                      
                            <option value="true">Sim, vou fazer a "portabilidade" transferindo minha linha para o Foneclube.</option>
                            <option value="false">Não, quero um número novo.</option>
                        </select> 
                    </div>  
                    <div class="form-group col-xs-12">
                        <span ng-show="phoneNumber.Portability == 'false'"><b>Se você ainda não sabe o novo número de telefone pode deixar em branco.</b></span> <br/>
                        <span for="portabilidadeTelefone">Telefone:</span>
                        <input id="portabilidadeTelefone" class="form-control" ng-model="phoneNumber.NovoFormatoNumero" type="tel" placeholder="(xx) 99999-9999" mask="(99) 9?9999-9999" restrict="reject" ng-change="vm.validatePhoneNumber($index)">
                    </div>   
                    <div class="form-group col-xs-12">
                        <button class="btn btn-danger col-sm-2 col-xs-12" ng-click="vm.onTapRemoveNewNumber($index)">Deletar linha</button>          
                    </div>                                                                                              
                </div>                
            </uib-accordion>                       
        </div>
    </div>   
    <div class="form-group col-xs-12">
        <button class="btn btn-primary col-sm-2 col-xs-12" ng-disabled="vm.requesting"  on-tap="vm.onTapSendUser(vm.customer)">Enviar</button>                                
    </div>         
</div>